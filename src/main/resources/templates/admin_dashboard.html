<!DOCTYPE html>
<html lang="en" class="light-style layout-navbar-fixed layout-menu-fixed" dir="ltr" data-theme="theme-default" data-assets-path="assets/" data-template="vertical-menu-template" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"/>
    <title>Dashboard | DreamSoccer</title>
    <meta name="description" content=""/>
    <link rel="icon" type="image/x-icon" href="assets/img/favicon/favicon.ico"/>
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="assets/vendor/fonts/fontawesome.css"/>
    <link rel="stylesheet" href="assets/vendor/fonts/tabler-icons.css"/>
    <link rel="stylesheet" href="assets/vendor/css/rtl/core.css" class="template-customizer-core-css"/>
    <link rel="stylesheet" href="assets/vendor/css/rtl/theme-default.css" class="template-customizer-theme-css"/>
    <link rel="stylesheet" href="assets/css/demo.css"/>
    <script src="assets/vendor/js/helpers.js"></script>
    <script src="assets/js/config.js"></script>
</head>
<body>
<div class="layout-wrapper layout-content-navbar">
    <div class="layout-container">
        <div th:replace="~{pisah/sidebar.html}">
        </div>
        <div class="layout-page">
            <div th:replace="~{pisah/navbar.html}">
            </div>
            <div class="content-wrapper">
                <div class="container-xxl flex-grow-1 container-p-y">
                    <div class="row">
                        <div class="col-xl-4 mb-4 col-lg-5 col-12">
                            <div class="card">
                                <div class="d-flex align-items-end row">
                                    <div class="col-7">
                                        <div class="card-body text-nowrap">
                                            <h5 class="card-title mb-2">Selamat Datang, Admin! ðŸŽ‰</h5>
                                            <p class="mb-3 text-muted">Anda memiliki informasi terbaru.</p>
                                            <h4 class="text-primary mb-2">Booking Baru Menunggu: <span id="waiting-booking-count">0</span></h4>
                                            <a href="/daftar_booking_user" class="btn btn-primary btn-sm">Lihat Booking</a>
                                        </div>
                                    </div>
                                    <div class="col-5 text-center text-sm-left">
                                        <div class="card-body pb-0 px-0 px-md-4">
                                            <img src="assets/img/illustrations/card-advance-sale.png" height="140" alt="view sales"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div th:replace="~{pisah/footer.html}">
                </div>
            </div>
        </div>
    </div>
    <script>
        async function fetchWaitingBookingCount() {
            try {
                const response = await fetch('/api/history-booking/total-menunggu');
                const count = await response.json();
                document.getElementById('waiting-booking-count').textContent = count;
            } catch (error) {
                console.error('Error fetching waiting booking count:', error);
            }
        }

        document.addEventListener('DOMContentLoaded', fetchWaitingBookingCount);
    </script>
    <script src="assets/vendor/js/bootstrap.js"></script>
    <script src="assets/vendor/js/menu.js"></script>
    <script src="assets/js/main.js"></script>
</div>
</body>
</html>